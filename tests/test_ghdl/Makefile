#Auto generated by Edalize
STD = --std=08
TOPLEVEL = top_module
ANALYZE_OPTIONS = some analyze_options -P./libx
RUN_OPTIONS = a few run_options

VHDL_SOURCES =  vhdl_file.vhd vhdl_lfile vhdl2008_file

all: work-obj08.cf

run: $(TOPLEVEL)
	ghdl -r $(TOPLEVEL) $(RUN_OPTIONS) $(EXTRA_OPTIONS)

$(TOPLEVEL): $(VHDL_SOURCES) work-obj08.cf
	ghdl -m $(STD) $(ANALYZE_OPTIONS) $(TOPLEVEL)

make_libraries_directories:
	echo "Creating libraries directories"
	mkdir -p libx

work-obj08.cf: make_libraries_directories
	ghdl -i $(STD) $(ANALYZE_OPTIONS)  vhdl_file.vhd
	ghdl -i $(STD) $(ANALYZE_OPTIONS) --work=libx  --workdir=./libx vhdl_lfile
	ghdl -i $(STD) $(ANALYZE_OPTIONS)  vhdl2008_file

