#Auto generated by Edalize

export CHIPDB=/opt/nextpnr/xilinx-chipdb
export DB_DIR=/opt/nextpnr/prjxray-db


all: test_xray_0.bit

test_xray_0.json: edalize_yosys_template.tcl
	$(EDALIZE_LAUNCHER) yosys -l yosys.log -p 'tcl edalize_yosys_template.tcl'

test_xray_0.fasm: test_xray_0.json
	$(EDALIZE_LAUNCHER) nextpnr-xilinx --verbose --debug --chipdb "$${CHIPDB}/xc7k325tffg676-1.bin" --xdc constraints.xdc --json test_xray_0.json --write test_xray_0_routed.json --fasm test_xray_0.fasm

test_xray_0.frames: test_xray_0.fasm
	$(EDALIZE_LAUNCHER) fasm2frames --part xc7k325tffg676-1 --db-root "$${DB_DIR}/kintex7" test_xray_0.fasm > test_xray_0.frames

test_xray_0.bit: test_xray_0.frames
	$(EDALIZE_LAUNCHER) xc7frames2bit --part_file "$${DB_DIR}/kintex7/xc7k325tffg676-1/part.yaml" --part_name xc7k325tffg676-1 --frm_file test_xray_0.frames --output_file test_xray_0.bit
