#Auto generated by Edalize

TARGET   := {{ name }}
LPF_FILE := {{ lpf_file }}
NEXTPNR_OPTIONS     := {{ nextpnr_options|join(' ') }}

all: $(TARGET).bit

%.json: %.ys
	yosys -l yosys.log -q -s $?
%.config: %.json
	nextpnr-ecp5 -l next.log -q $(NEXTPNR_OPTIONS) --lpf $(LPF_FILE) --json $? --textcfg $@
%.bit: %.config
	ecppack $< $@

build-gui: $(TARGET).json
	nextpnr-ecp5 -q $(NEXTPNR_OPTIONS) --json $? --textcfg $@ --gui

clean:
	rm -f  $(TARGET).json $(TARGET).config $(TARGET).bit
