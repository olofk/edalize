#Auto generated by Edalize jinja
include config.mk

all: xsim.dir/$(TARGET)/xsimk

# {{ xci_list}}

{%if xci_list %}
xci.prj: xci.tcl
	vivado -mode batch -source xci.tcl
	cat $(TARGET).prj >> xci.prj
xsim.dir/$(TARGET)/xsimk:  $(SRC_FILES) xci.prj
	xelab $(TOPLEVEL) -prj xci.prj -snapshot $(TARGET) $(VLOG_DEFINES) $(VLOG_INCLUDES) $(GEN_PARAMS) $(XELAB_OPTIONS) -debug all
{%else%}
xsim.dir/$(TARGET)/xsimk:  $(SRC_FILES)
	xelab $(TOPLEVEL) -prj $(TARGET).prj -snapshot $(TARGET) $(VLOG_DEFINES) $(VLOG_INCLUDES) $(GEN_PARAMS) $(XELAB_OPTIONS) -debug all
{%endif%}

run: {{ default_run }}

run-dflt: xsim.dir/$(TARGET)/xsimk
	xsim -R $(XSIM_OPTIONS) $(TARGET) $(EXTRA_OPTIONS)

run-vcd: xsim.dir/$(TARGET)/xsimk
	xsim -t vcd.tcl $(XSIM_OPTIONS) $(TARGET) $(EXTRA_OPTIONS)

run-gui: xsim.dir/$(TARGET)/xsimk
	xsim --gui $(XSIM_OPTIONS) $(TARGET) $(EXTRA_OPTIONS)
