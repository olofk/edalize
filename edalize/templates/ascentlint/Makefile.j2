# This file is generated by edalize.

NAME := {{ name }}

ASCENTLINT_OPTIONS ?= {{ ascentlint_options }}
all: report-violations

ascentlint.log: run-ascentlint.tcl sources.f
	ascentlint -i run-ascentlint.tcl -log ascentlint.log $(ASCENTLINT_OPTIONS)
	
report-violations: ascentlint.log
	@(egrep -q "(Found [0-9]+ info lint violations|No lint violations found)" \
		ascentlint.log && echo "***PASSED***") || \
		(echo "***ERROR*** Lint run found new errors or warnings."  \
		"Please check ascentlint.rpt" && exit 1)
